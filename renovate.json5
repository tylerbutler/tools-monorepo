{
	"$schema": "https://docs.renovatebot.com/renovate-schema.json",
	"extends": [
		"config:recommended",
		// "helpers:pinGitHubActionDigests",
	],

	// Disable the GitHub actions updates
	"github-actions": {
		"enabled": false,
	},

	"timezone": "America/Los_Angeles",
	"schedule": [
		// "after 10pm every weekday",
		// "before 5am every weekday",
		// "every weekend"
		"after 9pm on sunday",
	],

	"separateMajorMinor": true,
	"separateMultipleMajor": true,

	"prBodyColumns": [
		"Package",
		"Update",
		"Type",
		"New value",
		"Package file",
		"References",
	],

	// Automerge settings
	"platformAutomerge": true,
	"automergeType": "branch", // or "pr"
	// "automergeSchedule": [
	//   "before 4am on Monday"
	// ],

	"postUpdateOptions": ["pnpmDedupe"],

	"lockFileMaintenance": {
		"enabled": false,
		"automerge": true,
	},

	"packageRules": [
		// {
		// 	// Require Dependency Dashboard approval for major updates
		// 	"dependencyDashboardApproval": true,
		// 	"matchUpdateTypes": ["major"],
		// },
		{
			// Group oclif dependencies together
			"matchPackagePatterns": ["^oclif", "^@oclif/"],
			"groupName": "oclif",
		},
		{
			// TypeScript updates should be done separately
			"matchPackagePatterns": ["typescript"],
			"groupName": "typescript",
		},
		{
			// Group dev dependencies except oclif together
			"matchDepTypes": ["devDependencies"],
			"matchUpdateTypes": ["patch", "minor"],
			"excludePackagePatterns": ["^oclif", "^@oclif/"],
			"groupName": "devDependencies (non-major)",
			"automerge": true,
		},
		{
			// Allow patch updates to be auto-merged, except for oclif
			"matchUpdateTypes": ["patch", "pin", "digest"],
			"excludePackagePatterns": ["^oclif", "^@oclif/"],
			"automerge": true,
		},
	],
	"ignoreDeps": [
		// Next major of chai needs testing
		"@types/chai",
		"chai",
	],
}
