<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CCL Test Viewer - Performance Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns@2.29.3/index.min.js"></script>
    <link href="./styles.css" rel="stylesheet">
</head>
<body>
    <div class="dashboard">
        <header class="dashboard-header">
            <h1>📊 CCL Test Viewer Performance Dashboard</h1>
            <div class="header-controls">
                <select id="timeRange" class="time-selector">
                    <option value="7">Last 7 days</option>
                    <option value="30" selected>Last 30 days</option>
                    <option value="90">Last 90 days</option>
                </select>
                <button id="refreshData" class="refresh-btn">🔄 Refresh</button>
            </div>
        </header>

        <div class="metrics-grid">
            <!-- Current Performance Overview -->
            <section class="metric-card overview-card">
                <h2>🎯 Current Performance</h2>
                <div class="current-metrics">
                    <div class="metric">
                        <span class="metric-label">Performance Score</span>
                        <span class="metric-value" id="currentPerformance">-</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Bundle Size</span>
                        <span class="metric-value" id="currentBundleSize">-</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">LCP</span>
                        <span class="metric-value" id="currentLCP">-</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">CLS</span>
                        <span class="metric-value" id="currentCLS">-</span>
                    </div>
                </div>
            </section>

            <!-- Core Web Vitals Chart -->
            <section class="metric-card chart-card">
                <h2>🚀 Core Web Vitals Trends</h2>
                <canvas id="webVitalsChart" width="400" height="200"></canvas>
            </section>

            <!-- Lighthouse Scores Chart -->
            <section class="metric-card chart-card">
                <h2>🔍 Lighthouse Scores</h2>
                <canvas id="lighthouseChart" width="400" height="200"></canvas>
            </section>

            <!-- Bundle Size Analysis -->
            <section class="metric-card chart-card">
                <h2>📦 Bundle Size Trends</h2>
                <canvas id="bundleSizeChart" width="400" height="200"></canvas>
                <div class="bundle-breakdown" id="bundleBreakdown">
                    <!-- Bundle breakdown will be populated here -->
                </div>
            </section>

            <!-- Performance Budget Status -->
            <section class="metric-card budget-card">
                <h2>💰 Performance Budgets</h2>
                <div class="budget-list" id="budgetStatus">
                    <!-- Budget status will be populated here -->
                </div>
            </section>

            <!-- Recent Issues -->
            <section class="metric-card issues-card">
                <h2>⚠️ Performance Issues</h2>
                <div class="issues-list" id="performanceIssues">
                    <!-- Issues will be populated here -->
                </div>
            </section>

            <!-- Static Data Analysis -->
            <section class="metric-card data-card">
                <h2>📊 Static Data Analysis</h2>
                <div class="data-metrics" id="staticDataMetrics">
                    <!-- Static data metrics will be populated here -->
                </div>
            </section>

            <!-- Performance Recommendations -->
            <section class="metric-card recommendations-card">
                <h2>💡 Optimization Recommendations</h2>
                <div class="recommendations-list" id="recommendations">
                    <!-- Recommendations will be populated here -->
                </div>
            </section>
        </div>
    </div>

    <script src="./dashboard.js"></script>
</body>
</html>