## API Report File for "repopo"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { Operation } from 'effection';
import type { PackageJson } from 'type-fest';
import { run } from '@oclif/core';

// @alpha
export interface ConfiguredPolicy<C = void> extends PolicyShape<C> {
    config?: C | undefined;
    // @deprecated
    exclude?: (string | RegExp)[] | undefined;
    excludeFiles?: (string | RegExp)[] | undefined;
    // @internal
    _internalHandler?: (args: PolicyArgs<C>) => Operation<PolicyHandlerResult>;
}

// @alpha
export function defineFileHeaderPolicy(args: DefineFileHeaderPolicyArgs): PolicyShape<FileHeaderPolicyConfig>;

// @alpha
export interface DefineFileHeaderPolicyArgs {
    config: FileHeaderGeneratorConfig;
    description: string;
    name: string;
}

// @alpha
export interface DefinePackagePolicyArgs<J, C> {
    defaultConfig?: C;
    description: string;
    handler: PackageJsonHandler<J, C>;
    name: string;
}

// @alpha
export interface FileHeaderGeneratorConfig extends Partial<FileHeaderPolicyConfig> {
    headerEnd?: RegExp;
    headerStart?: RegExp;
    lineEnd: RegExp;
    lineStart: RegExp;
    match: RegExp;
    replacer: (content: string, config: FileHeaderPolicyConfig) => string;
}

// @alpha (undocumented)
export interface FileHeaderPolicyConfig {
    autoGenText?: string;
    headerText: string;
}

// @alpha
export interface FluidAdapterOptions {
    namePrefix?: string;
}

// @alpha
export interface FluidHandler {
    handler: (file: string, root: string) => Promise<string | undefined>;
    match: RegExp;
    name: string;
    resolver?: (file: string, root: string) => Promise<{
        resolved: boolean;
        message?: string;
    }> | {
        resolved: boolean;
        message?: string;
    };
}

// @alpha
export function fromFluidHandlers(fluidHandlers: FluidHandler[], options?: FluidAdapterOptions): PolicyDefinition[];

// @alpha
export function generatePackagePolicy<J = PackageJson, C = undefined>(args: DefinePackagePolicyArgs<J, C>): PolicyShape<C>;

// @alpha
export function isPolicyError(toCheck: any): toCheck is PolicyError;

// @alpha @deprecated
export function isPolicyFailure(toCheck: any): toCheck is PolicyFailure;

// @alpha @deprecated
export function isPolicyFixResult(toCheck: any): toCheck is PolicyFixResult;

// @alpha @deprecated
export function makePolicy<C>(definition: PolicyDefinition<C>, config?: C, settings?: PolicyInstanceSettings<C>): PolicyInstance<C>;

// @alpha @deprecated
export function makePolicyDefinition<C = undefined>(args: PolicyDefinitionInput<C>): PolicyDefinition<C>;

// @alpha
export type PackageJsonHandler<J, C> = (json: J, args: PolicyArgs<C>) => Operation<PolicyHandlerResult> | Promise<PolicyHandlerResult>;

// @alpha
export abstract class Policy<C = void> implements PolicyShape<C> {
    constructor(definition: PolicyShape<C>);
    // (undocumented)
    readonly defaultConfig?: C | undefined;
    // (undocumented)
    readonly description: string;
    // (undocumented)
    readonly handler: PolicyHandler<C>;
    // (undocumented)
    readonly match: RegExp;
    // (undocumented)
    readonly name: string;
    // (undocumented)
    readonly resolver?: PolicyStandaloneResolver<C> | undefined;
}

// @alpha
export function policy<C = void>(policyDef: PolicyShape<C>, options?: PolicyOptions): ConfiguredPolicy<C>;

// @alpha (undocumented)
export function policy<C>(policyDef: PolicyShape<C>, config: C, options?: PolicyOptions): ConfiguredPolicy<C>;

// @alpha
export interface PolicyArgs<C = void> {
    config?: C | undefined;
    file: string;
    resolve: boolean;
    root: string;
}

// @alpha @deprecated (undocumented)
export type PolicyDefinition<C = undefined> = PolicyShape<C>;

// @alpha @deprecated
export type PolicyDefinitionInput<C = undefined> = PolicyDefinition<C>;

// @alpha
export interface PolicyError {
    error: string;
    fixable?: boolean | undefined;
    fixed?: boolean | undefined;
    manualFix?: string | undefined;
}

// @alpha @deprecated
export interface PolicyFailure {
    autoFixable?: boolean | undefined;
    errorMessages: string[];
    file: string;
    manualFix?: string | undefined;
    name: PolicyName;
}

// @alpha @deprecated
export interface PolicyFixResult extends PolicyFailure {
    resolved: boolean;
}

// @alpha @deprecated (undocumented)
export type PolicyFunctionArguments<C> = PolicyArgs<C>;

// @alpha
export type PolicyHandler<C = unknown | undefined> = ((args: PolicyArgs<C>) => Promise<PolicyHandlerResult>) | ((args: PolicyArgs<C>) => Operation<PolicyHandlerResult>);

// @alpha
export type PolicyHandlerResult = true | PolicyFailure | PolicyFixResult | PolicyError;

// @alpha @deprecated (undocumented)
export type PolicyInstance<C = undefined> = ConfiguredPolicy<C>;

// @alpha
export interface PolicyInstanceSettings<C> {
    config?: C | undefined;
    excludeFiles?: (string | RegExp)[];
}

// @alpha
export type PolicyName = string;

// @alpha
export interface PolicyOptions {
    exclude?: (string | RegExp)[];
}

// @alpha
export type PolicyResolver<C = void> = (args: Omit<PolicyArgs<C>, "resolve">) => Promise<PolicyError> | Operation<PolicyError>;

// @alpha
export type PolicyResult = true | PolicyError;

// @alpha
export interface PolicyShape<C = void> {
    defaultConfig?: C | undefined;
    description: string;
    handler: PolicyHandler<C>;
    match: RegExp;
    name: PolicyName;
    resolver?: PolicyStandaloneResolver<C> | undefined;
}

// @alpha @deprecated
export type PolicyStandaloneResolver<C = undefined> = (args: Omit<PolicyArgs<C>, "resolve">) => Promise<PolicyFixResult> | Operation<PolicyFixResult>;

// @alpha (undocumented)
export interface RepopoConfig {
    excludeFiles?: (string | RegExp)[];
    policies?: (ConfiguredPolicy<any> | PolicyInstance<any>)[];
}

export { run }

```
